local ui = Instance.new("ScreenGui")
ui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

local toggle = Instance.new("TextButton")
toggle.Parent = ui
toggle.Size = UDim2.new(0,120,0,45)
toggle.Position = UDim2.new(0,30,0,200)
toggle.Text = "Fly: OFF"

local targetBox = Instance.new("TextBox")
targetBox.Parent = ui
targetBox.Size = UDim2.new(0,150,0,40)
targetBox.Position = UDim2.new(0,30,0,150)
targetBox.PlaceholderText = "T√™n ng∆∞·ªùi ch∆°i"

local flying = false
local speed = 325
local step = 0.001

toggle.MouseButton1Click:Connect(function()
	flying = not flying
	toggle.Text = flying and "Fly: ON" or "Fly: OFF"
end)

game:GetService("RunService").RenderStepped:Connect(function()
	if flying then
		local plr = game.Players.LocalPlayer
		local char = plr.Character
		local hrp = char and char:FindFirstChild("HumanoidRootPart")
		if not hrp then return end

		local target = game.Players:FindFirstChild(targetBox.Text)
		local tchar = target and target.Character
		local thrp = tchar and tchar:FindFirstChild("HumanoidRootPart")
		if not thrp then return end

		local pos = hrp.CFrame
		local goal = thrp.CFrame
		local dir = (goal.Position - pos.Position).Unit
		local new = pos + dir * speed * step
		hrp.CFrame = CFrame.new(new.Position, goal.Position)
	end
end)










local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- GUI
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "FlyToPlayerGUI"

-- N√∫t ‚â° b·∫≠t/t·∫Øt
local ToggleMain = Instance.new("TextButton", ScreenGui)
ToggleMain.Size = UDim2.new(0, 40, 0, 40)
ToggleMain.Position = UDim2.new(0, 10, 0, 10)
ToggleMain.Text = "‚â°"
ToggleMain.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
ToggleMain.TextColor3 = Color3.new(1,1,1)
ToggleMain.BorderSizePixel = 0

-- Frame ch√≠nh
local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 200, 0, 120)
Frame.Position = UDim2.new(0, 60, 0, 60)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.BorderSizePixel = 0
Frame.BackgroundTransparency = 0.2
Frame.Active = true
Frame.Draggable = true
Frame.Visible = true

-- N√∫t b·∫≠t / t·∫Øt bay
local ToggleFly = Instance.new("TextButton", Frame)
ToggleFly.Size = UDim2.new(1, 0, 0, 30)
ToggleFly.Position = UDim2.new(0, 0, 0, 0)
ToggleFly.Text = "üîÅ B·∫≠t"
ToggleFly.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ToggleFly.TextColor3 = Color3.new(1,1,1)
ToggleFly.BorderSizePixel = 0

-- N√∫t ch·ªçn player
local PlayerList = Instance.new("TextButton", Frame)
PlayerList.Size = UDim2.new(1, 0, 0, 30)
PlayerList.Position = UDim2.new(0, 0, 0, 35)
PlayerList.Text = "üéØ Ch·ªçn Ng∆∞·ªùi"
PlayerList.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
PlayerList.TextColor3 = Color3.new(1,1,1)
PlayerList.BorderSizePixel = 0

-- Dropdown
local Dropdown = Instance.new("Frame", Frame)
Dropdown.Size = UDim2.new(1, 0, 0, 0)
Dropdown.Position = UDim2.new(0, 0, 0, 65)
Dropdown.BackgroundTransparency = 1
Dropdown.ClipsDescendants = true

-- Logic
local SelectedPlayer = nil
local Active = false

local function RefreshPlayers()
	for _, child in pairs(Dropdown:GetChildren()) do
		if child:IsA("TextButton") then
			child:Destroy()
		end
	end

	local count = 0
	for _, plr in pairs(Players:GetPlayers()) do
		if plr ~= LocalPlayer then
			count += 1
			local btn = Instance.new("TextButton", Dropdown)
			btn.Size = UDim2.new(1, 0, 0, 25)
			btn.Position = UDim2.new(0, 0, 0, (count - 1) * 25)
			btn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
			btn.Text = plr.Name
			btn.TextColor3 = Color3.new(1, 1, 1)
			btn.BorderSizePixel = 0
			btn.MouseButton1Click:Connect(function()
				SelectedPlayer = plr
				PlayerList.Text = "üéØ " .. plr.Name
				Dropdown.Size = UDim2.new(1, 0, 0, 0)
			end)
		end
	end
	Dropdown.Size = UDim2.new(1, 0, 0, count * 25)
end

-- M·ªü dropdown th·ªß c√¥ng
PlayerList.MouseButton1Click:Connect(RefreshPlayers)

-- T·ª± c·∫≠p nh·∫≠t m·ªói 3 gi√¢y n·∫øu ƒëang m·ªü
task.spawn(function()
	while true do
		task.wait(3)
		if Dropdown.Size.Y.Offset > 0 then
			RefreshPlayers()
		end
	end
end)

-- Toggle bay
ToggleFly.MouseButton1Click:Connect(function()
	Active = not Active
	ToggleFly.Text = Active and "‚úÖ ƒêang B·∫≠t" or "üîÅ B·∫≠t"
end)

-- N√∫t ‚â° b·∫≠t/t·∫Øt to√†n b·ªô GUI
ToggleMain.MouseButton1Click:Connect(function()
	Frame.Visible = not Frame.Visible
end)

-- Bay theo player ·ªü ƒë·ªô cao 13
task.spawn(function()
	while true do
		task.wait(0.01)
		if Active and SelectedPlayer and SelectedPlayer.Character and SelectedPlayer.Character:FindFirstChild("HumanoidRootPart") then
			local myChar = LocalPlayer.Character
			local myHRP = myChar and myChar:FindFirstChild("HumanoidRootPart")
			local targetHRP = SelectedPlayer.Character.HumanoidRootPart
			if myHRP then
				myHRP.CFrame = CFrame.new(targetHRP.Position + Vector3.new(0, 0, 0))
			end
		end
	end
end)
